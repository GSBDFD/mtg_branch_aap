# ===============================================
# AI会話ブランチツール 環境構築手順書 (setup.txt)
# ===============================================

# 目的: 開発に必要なPython仮想環境を構築し、全ての依存関係をインストールする。
# 想定環境: macOS/Linux (Python3 がインストール済みであること)

# -----------------------------------------------
# STEP 1: リポジトリのクローンと移動
# -----------------------------------------------
# GitHubからプロジェクトをローカルにコピーし、ディレクトリに移動します。
# git clone [GitHubリポジトリURL]
# cd [プロジェクトディレクトリ名]

# -----------------------------------------------
# STEP 2: 仮想環境 (venv) の構築と有効化
# -----------------------------------------------
# システム環境を汚染しないよう、プロジェクト専用の仮想環境を作成します。
python3 -m venv venv

# 仮想環境を有効化します。プロンプトの先頭に (venv) と表示されます。
source venv/bin/activate

# -----------------------------------------------
# STEP 3: 依存関係のインストール
# -----------------------------------------------
# requirements.txt に記述された全てのライブラリ（FastAPI, Uvicorn, WebSocket用ライブラリ含む）をインストールします。
# ※ uvicorn[standard] のインストールにより、WebSocket通信に必要なライブラリも自動で入ります。
python3 -m pip install -r requirements.txt

# -----------------------------------------------
# STEP 4: サーバーの起動
# -----------------------------------------------
# サーバーをポート8002で起動します。
# サーバーを停止するには Ctrl+C を押します。
uvicorn main:app --port 8002

# -----------------------------------------------
# STEP 5: フロントエンドの確認
# -----------------------------------------------
# ブラウザで index.html を開き、接続が完了していることを確認します。
# -----------------------------------------------

# 仮想環境を終了する際は、以下のコマンドを実行します。
# deactivate